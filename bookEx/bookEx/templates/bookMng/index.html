{% extends 'base.html' %}
{% load static %}
{% block title %}Home - Book Exchange{% endblock %}

{% block content %}
<style>
  /* Grid container for video and features */
  .video-features-grid {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 3rem;
    align-items: start;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Features list styling */
  .features-list {
    list-style: none;
    padding-left: 0;
    margin: 0;
  }

  /* Each feature as flex item */
  .feature-item {
    display: flex;
    align-items: flex-start;
    gap: 1.25rem;
    margin-bottom: 1.5rem;
  }

  /* Icon styling */
  .feature-icon {
    font-size: 1.8rem;
    color: var(--primary);
    flex-shrink: 0;
    margin-top: 0.2rem;
    min-width: 30px;
    text-align: center;
  }

  /* Text container for feature */
  .feature-text-container {
    flex: 1;
  }

  /* Feature heading */
  .feature-title {
    font-weight: 700;
    font-size: 1.15rem;
    color: #333;
    line-height: 1.3;
  }

  /* Feature sub description */
  .feature-subtext {
    font-weight: 400;
    font-size: 0.93rem;
    line-height: 1.5;
    color: #555555;
    margin-top: 0.3rem;
  }
</style>

<div style="padding-top: 6rem; max-width: 900px; margin: 0 auto 3rem auto; font-family: Arial, sans-serif;">

    <h1 style="
      font-family: 'Roboto', Arial, sans-serif;
      font-size: 4rem;
      font-weight: 700;
      line-height: 1;
      color: var(--primary);
      text-align: center;
      user-select: none;
      white-space: nowrap;
      margin: 0 auto 1.2rem auto;
      cursor: default;

      /* Text shadow to simulate thin white outline + subtle 3D glow */
      text-shadow:
        -1px -1px 0 #fff,
        1px -1px 0 #fff,
        -1px 1px 0 #fff,
        1px 1px 0 #fff,
        0 0 5px var(--primary);
    ">
      Book Exchange
    </h1>

  <form method="get" action="{% url 'searchbooks' %}" style="max-width: 640px; margin: 0 auto 2rem auto;">
    <div style="position: relative; display: flex; align-items: center; padding: 0 1rem;">
      <i class="fas fa-search" style="color: var(--border); position: absolute; left: 1rem; font-size: 1.4rem;"></i>
      <input type="text" name="q" placeholder="Search for books..."
             value="{{ request.GET.q|default:'' }}" aria-label="Search books"
             style="width: 100%; padding: 1rem 1rem 1rem 3rem; font-size: 1.25rem; color: var(--text-primary);
                    border-radius: 30px; border: 2px solid var(--border); transition: border-color 0.3s ease;"
             onfocus="this.style.borderColor='var(--primary)';"
             onblur="this.style.borderColor='var(--border)';" />
      <button type="submit" style="background: var(--primary); border: none; padding: 1rem 2rem; margin-left: 1rem; border-radius: 30px; color: white; font-size: 1.25rem; font-weight: 700; cursor: pointer; user-select: none; box-shadow: 0 6px 12px rgba(26, 115, 232, 0.4); transition: background 0.3s ease;">
        Book Search
      </button>
    </div>
  </form>

  <div class="video-features-grid">

    <video controls style="width: 100%; border-radius: 12px; box-shadow: var(--shadow);">
      <source src="{% static 'uploads/BookExchange.mp4' %}" type="video/mp4">
      Your browser does not support the video tag.
    </video>

    <div>
      <h2 style="color: var(--primary); font-weight: 700; margin-bottom: 1.5rem;">Features of Book Exchange</h2>
      <ul class="features-list">
        <li class="feature-item">
          <i class="fas fa-book-open feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">Search and browse a vast collection of books across multiple genres.</div>
            <div class="feature-subtext">
              Explore thousands of titles in fiction, non-fiction, academic works, and more, ensuring you find exactly what you need.
            </div>
          </div>
        </li>

        <li class="feature-item">
          <i class="fas fa-exchange-alt feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">User-friendly interface to post, exchange, and purchase books easily.</div>
            <div class="feature-subtext">
              Quickly list your books or find exchange opportunities with an intuitive and seamless design.
            </div>
          </div>
        </li>

        <li class="feature-item">
          <i class="fas fa-user-circle feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">Personalized profiles to track your listings, purchases, favorites, and ratings.</div>
            <div class="feature-subtext">
              Manage your activities from a personalized dashboard, keeping track of your book exchanges and interests.
            </div>
          </div>
        </li>

        <li class="feature-item">
          <i class="fas fa-shopping-cart feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">Secure cart and checkout system for smooth transactions.</div>
            <div class="feature-subtext">
              Enjoy hassle-free purchases with advanced security features and clear order tracking.
            </div>
          </div>
        </li>

        <li class="feature-item">
          <i class="fas fa-comments feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">Interactive community features: rating books, commenting, and favorites.</div>
            <div class="feature-subtext">
              Connect with readers through reviews, comments, and favorites to share feedback and recommendations.
            </div>
          </div>
        </li>

        <li class="feature-item">
          <i class="fas fa-undo-alt feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">Book return and exchange management with quantity tracking.</div>
            <div class="feature-subtext">
              Easily handle returns and exchanges with detailed tracking to maintain your collections accurately.
            </div>
          </div>
        </li>

        <li class="feature-item">
          <i class="fas fa-users feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">Role-based user access: publishers, writers, and regular users.</div>
            <div class="feature-subtext">
              Tailored permissions ensure each user has appropriate access and controls based on their role.
            </div>
          </div>
        </li>

        <li class="feature-item">
          <i class="fas fa-mobile-alt feature-icon"></i>
          <div class="feature-text-container">
            <div class="feature-title">Responsive design ensuring smooth use on all device sizes.</div>
            <div class="feature-subtext">
              Access the platform effortlessly whether youâ€™re on a desktop, tablet, or smartphone.
            </div>
          </div>
        </li>
      </ul>
    </div>

  </div>

  <div style="display: flex; flex-wrap: wrap; gap: 1.25rem; justify-content: center; margin-top: 2rem;">
    {% for action in actions %}
    <a href="{% url action.url %}" style="background: var(--bg-secondary); border-radius: 16px; padding: 1.5rem 2rem; width: 140px; text-decoration: none; color: var(--text-primary); box-shadow: 0 6px 18px rgba(59, 130, 246, 0.16); transition: background-color 0.25s, box-shadow 0.25s; display: flex; flex-direction: column; align-items: center; user-select: none;"
       onmouseover="this.style.backgroundColor='var(--primary)'; this.style.color='white'; this.style.boxShadow='0 10px 26px rgba(26, 115, 232, 0.6)';"
       onmouseout="this.style.backgroundColor='var(--bg-secondary)'; this.style.color='var(--text-primary)'; this.style.boxShadow='0 6px 18px rgba(59, 130, 246, 0.16)';">
      <i class="fas fa-{{ action.icon }}" style="font-size: 2.4rem; margin-bottom: 0.75rem;"></i>
      <span style="font-size: 0.9rem; color: var(--text-secondary);">{{ action.label }}</span>
    </a>
    {% endfor %}
  </div>
</div>
{% endblock %}
